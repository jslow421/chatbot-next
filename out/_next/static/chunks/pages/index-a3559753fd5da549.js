(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4178)}])},4178:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var l=s(5893),a=s(7294),r=s(3750),i=s(6893),n=s(5788),c=function(){let e=(0,a.useRef)(null);return(0,a.useEffect)(()=>{e.current&&(e.current.style.height="24px",e.current.style.height="".concat(e.current.scrollHeight,"px"))},[e]),e},o=s(5675),d=s.n(o),x=s(3854),m=s(7735),h=s(7106);function u(e){let{message:t}=e,{role:s,content:a}=t,r="user"===s;return(0,l.jsx)("div",{className:"group w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 ".concat(r?"dark:bg-user-message":"bg-gray-50 dark:bg-bot-message"),children:(0,l.jsx)("div",{className:"text-base gap-4 md:gap-6 md:max-w-2xl lg:max-w-xl xl:max-w-3xl flex lg:px-0 m-auto w-full",children:(0,l.jsxs)("div",{className:"flex flex-row gap-4 md:gap-6 md:max-w-2xl lg:max-w-xl xl:max-w-3xl p-4 md:py-6 lg:px-0 m-auto w-full",children:[(0,l.jsxs)("div",{className:"w-8 flex flex-col relative items-end",children:[(0,l.jsx)("div",{className:"relative h-7 w-7 p-1 rounded-sm text-white flex items-center justify-center bg-black/75 text-opacity-100r",children:r?(0,l.jsx)(x._K$,{className:"h-4 w-4 text-white"}):(0,l.jsx)(m.Cp6,{className:"h-4 w-4 text-white"})}),(0,l.jsxs)("div",{className:"text-xs flex items-center justify-center gap-1 absolute left-0 top-2 -ml-4 -translate-x-full group-hover:visible !invisible",children:[(0,l.jsx)("button",{disabled:!0,className:"text-gray-300 dark:text-gray-400"}),(0,l.jsx)("span",{className:"flex-grow flex-shrink-0",children:"1 / 1"}),(0,l.jsx)("button",{disabled:!0,className:"text-gray-300 dark:text-gray-400"})]})]}),(0,l.jsx)("div",{className:"relative flex w-[calc(100%-50px)] flex-col gap-1 md:gap-3 lg:w-[calc(100%-115px)]",children:(0,l.jsx)("div",{className:"flex flex-grow flex-col gap-3",children:(0,l.jsx)("div",{className:"min-h-20 flex flex-col items-start gap-4 whitespace-pre-wrap break-words",children:(0,l.jsx)("div",{className:"markdown prose w-full break-words dark:prose-invert dark",children:r||null!==a?(0,l.jsx)("p",{children:a}):(0,l.jsx)(h.Y2V,{className:"h-6 w-6 animate-pulse"})})})})})]})})})}function f(e){let{toggleComponentVisibility:t}=e,[s,o]=(0,a.useState)(!1),[x,m]=(0,a.useState)(""),[h,f]=(0,a.useState)(!0),[p,g]=(0,a.useState)([]),[b,w]=(0,a.useState)(""),j=c(),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{j.current&&(j.current.style.height="24px",j.current.style.height="".concat(j.current.scrollHeight,"px"))},[b,j]),(0,a.useEffect)(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},[p]);let v=async()=>{try{let e=await fetch("https://9khv50aaw9.execute-api.us-east-1.amazonaws.com/prod/",{method:"POST",headers:{"Content-Type":"application/json",Origin:"http://localhost"},body:JSON.stringify({messages:[...p,{content:b,role:"user"}],question:b})}).then(e=>e.json()).then(e=>{console.log(e),g([...p,{content:b,role:"user"},{content:e.answer,role:"system"}])});return e}catch(e){console.error("Error fetching streamed text:",e)}},N=async e=>{if(e.preventDefault(),b.length<1){m("Please enter a message.");return}m(""),o(!0),g([...p,{content:b,role:"user"},{content:null,role:"system"}]),w(""),f(!1),v()},k=e=>{13!=e.keyCode||e.shiftKey||(N(e),e.preventDefault())};return(0,l.jsxs)("div",{className:"flex max-w-full flex-1 flex-col",children:[(0,l.jsxs)("div",{className:"sticky top-0 z-10 flex items-center border-b border-white/20 bg-gray-800 pl-1 pt-1 text-gray-200 sm:pl-3 md:hidden",children:[(0,l.jsxs)("button",{type:"button",className:"-ml-0.5 -mt-0.5 inline-flex h-10 w-10 items-center justify-center rounded-md hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white dark:hover:text-white",onClick:t,children:[(0,l.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,l.jsx)(n.Bbf,{className:"h-6 w-6 text-white"})]}),(0,l.jsx)("h1",{className:"flex-1 text-center text-base font-normal",children:"New chat"}),(0,l.jsx)("button",{type:"button",className:"px-3",children:(0,l.jsx)(r.B8K,{className:"h-6 w-6"})})]}),(0,l.jsxs)("div",{className:"relative h-full w-full transition-width flex flex-col overflow-hidden items-stretch flex-1",children:[(0,l.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,l.jsx)("div",{className:"react-scroll-to-bottom--css-ikyem-79elbk h-full dark:bg-caylent-body",children:(0,l.jsxs)("div",{className:"react-scroll-to-bottom--css-ikyem-1n7m0yu",children:[!h&&p.length>0?(0,l.jsxs)("div",{className:"flex flex-col items-center text-sm bg-gray-800",children:[(0,l.jsx)("div",{className:"flex w-full items-center justify-center gap-1 border-b border-black/10 bg-gray-50 p-3 text-gray-500 dark:border-gray-900/50 dark:bg-gray-700 dark:text-gray-300",children:(0,l.jsx)(d(),{src:"/logo-white.png",width:180,height:180,alt:"Caylent Logo",className:"mx-auto"})}),p.map((e,t)=>(0,l.jsx)(u,{message:e},t)),(0,l.jsx)("div",{className:"w-full h-32 md:h-48 flex-shrink-0 bg-caylent-body"}),(0,l.jsx)("div",{ref:y})]}):null,h?(0,l.jsxs)("div",{className:"py-10 relative w-full flex flex-col h-full",children:[(0,l.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,l.jsx)("div",{className:"relative w-full md:w-1/2 lg:w-1/3 xl:w-1/4",children:(0,l.jsx)(d(),{src:"/logo-white.png",width:180,height:180,alt:"Caylent Logo",className:"mx-auto"})})}),(0,l.jsx)("h1",{className:"text-2xl sm:text-4xl font-semibold text-center text-gray-200 dark:text-gray-600 flex gap-2 items-center justify-center h-screen",children:"Caylent Chat"})]}):null,(0,l.jsx)("div",{className:"flex flex-col items-center text-sm dark:bg-gray-800"})]})})}),(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 w-full border-t md:border-t-0 dark:border-white/20 md:border-transparent md:dark:border-transparent md:bg-vert-light-gradient bg-white dark:bg-gray-800 md:!bg-transparent pt-2",children:[(0,l.jsx)("form",{className:"stretch mx-2 flex flex-row gap-3 last:mb-2 md:mx-4 md:last:mb-6 lg:mx-auto lg:max-w-2xl xl:max-w-3xl",children:(0,l.jsxs)("div",{className:"relative flex flex-col h-full flex-1 items-stretch md:flex-col",children:[x?(0,l.jsx)("div",{className:"mb-2 md:mb-0",children:(0,l.jsx)("div",{className:"h-full flex ml-1 md:w-full md:m-auto md:mb-2 gap-0 md:gap-2 justify-center",children:(0,l.jsx)("span",{className:"text-red-500 text-sm",children:x})})}):null,(0,l.jsxs)("div",{className:"flex flex-col w-full py-2 flex-grow md:py-3 md:pl-4 relative border border-black/10 bg-white dark:border-gray-900/50 dark:text-white dark:bg-gray-700 rounded-md shadow-[0_0_10px_rgba(0,0,0,0.10)] dark:shadow-[0_0_15px_rgba(0,0,0,0.10)]",children:[(0,l.jsx)("textarea",{ref:j,value:b,tabIndex:0,"data-id":"root",style:{height:"24px",maxHeight:"200px",overflowY:"hidden"},placeholder:"Send a message...",className:"m-0 w-full resize-none border-0 bg-transparent p-0 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent pl-2 md:pl-0",onChange:e=>w(e.target.value),onKeyDown:k}),(0,l.jsx)("button",{disabled:s||(null==b?void 0:b.length)===0,onClick:N,className:"absolute p-1 rounded-md bottom-1.5 md:bottom-2.5 bg-transparent disabled:bg-gray-500 right-1 md:right-2 disabled:opacity-40",children:(0,l.jsx)(i.LbG,{className:"h-4 w-4 mr-1 text-white "})})]})]})}),(0,l.jsx)("div",{className:"px-3 pt-2 pb-3 text-center text-xs text-black/50 dark:text-white/50 md:px-4 md:pt-3 md:pb-6",children:(0,l.jsx)("span",{children:"Caylent Chat may produce inaccurate information about people, places, or facts."})})]})]})]})}var p=s(1649),g=s(8193),b=s(7516),w=s(5434);function j(){return(0,l.jsx)("div",{className:"scrollbar-trigger flex h-full w-full flex-1 items-start border-white/20",children:(0,l.jsxs)("nav",{className:"flex h-full flex-1 flex-col space-y-1 p-2",children:[(0,l.jsxs)("a",{className:"flex py-3 px-3 items-center gap-3 rounded-md hover:bg-gray-500/10 transition-colors duration-200 text-white cursor-pointer text-sm mb-1 flex-shrink-0 border border-white/20",children:[(0,l.jsx)(g.Lfi,{className:"h-4 w-4"}),"New chat"]}),(0,l.jsx)("div",{className:"flex-col flex-1 overflow-y-auto border-b border-white/20",children:(0,l.jsx)("div",{className:"flex flex-col gap-2 pb-2 text-gray-100 text-sm",children:(0,l.jsxs)("a",{className:"flex py-3 px-3 items-center gap-3 relative rounded-md hover:bg-[#2A2B32] cursor-pointer break-all hover:pr-4 group",children:[(0,l.jsx)(i.IC0,{className:"h-4 w-4"}),(0,l.jsxs)("div",{className:"flex-1 text-ellipsis max-h-5 overflow-hidden break-all relative",children:["New conversation",(0,l.jsx)("div",{className:"absolute truncate inset-y-0 right-0 w-8 z-10  from-gray-900 group-hover:from-[#2A2B32]"})]})]})})}),(0,l.jsxs)("a",{className:"flex py-3 px-3 items-center gap-3 rounded-md hover:bg-gray-500/10 transition-colors duration-200 text-white cursor-pointer text-sm",children:[(0,l.jsx)(g.e$J,{className:"h-4 w-4"}),"Clear conversations"]}),(0,l.jsxs)("a",{className:"flex py-3 px-3 items-center gap-3 rounded-md hover:bg-gray-500/10 transition-colors duration-200 text-white cursor-pointer text-sm",children:[(0,l.jsx)(g.nf1,{className:"h-4 w-4"}),"My plan"]}),(0,l.jsxs)("a",{className:"flex py-3 px-3 items-center gap-3 rounded-md hover:bg-gray-500/10 transition-colors duration-200 text-white cursor-pointer text-sm",children:[(0,l.jsx)(g.zPD,{className:"h-4 w-4"}),"Settings"]}),(0,l.jsxs)("a",{href:"https://help.openai.com/en/collections/3742473-chatgpt",target:"_blank",className:"flex py-3 px-3 items-center gap-3 rounded-md hover:bg-gray-500/10 transition-colors duration-200 text-white cursor-pointer text-sm",children:[(0,l.jsx)(b.rpH,{className:"h-4 w-4"}),"Get help"]}),(0,l.jsxs)("a",{className:"flex py-3 px-3 items-center gap-3 rounded-md hover:bg-gray-500/10 transition-colors duration-200 text-white cursor-pointer text-sm",children:[(0,l.jsx)(w.lE7,{className:"h-4 w-4"}),"Log out"]})]})})}function y(e){let{toggleComponentVisibility:t}=e;return(0,l.jsx)("div",{id:"headlessui-portal-root display:hidden",children:(0,l.jsxs)("div",{"data-headlessui-portal":"",children:[(0,l.jsx)("button",{type:"button","aria-hidden":"true",className:"fixed top-[1px] left-[1px] w-[1px] h-0 p-0 m-[-1px] overflow-hidden whitespace-nowrap border-0"}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"relative z-40",id:"headlessui-dialog-:re:",role:"dialog","aria-modal":"true","data-headlessui-state":"open",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 opacity-100"}),(0,l.jsxs)("div",{className:"fixed inset-0 z-40 flex",children:[(0,l.jsxs)("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-gray-900 translate-x-0",id:"headlessui-dialog-panel-:rf:","data-headlessui-state":"open",children:[(0,l.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2 opacity-100",children:(0,l.jsxs)("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",tabIndex:0,onClick:t,children:[(0,l.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,l.jsx)(p.QAE,{className:"h-6 w-6 text-white"})]})}),(0,l.jsx)(j,{})]}),(0,l.jsx)("div",{className:"w-14 flex-shrink-0"})]})]})}),(0,l.jsx)("button",{type:"button","aria-hidden":"true",className:"fixed top-[1px] left-[1px] w-[1px] h-0 p-0 m-[-1px] overflow-hidden whitespace-nowrap border-0"})]})})}function v(){let[e,t]=(0,a.useState)(!1),s=()=>{t(!e)};return(0,l.jsxs)("main",{className:"overflow-hidden w-full h-screen relative flex",children:[e?(0,l.jsx)(y,{toggleComponentVisibility:s}):null,(0,l.jsx)("div",{className:"dark hidden flex-shrink-0 bg-caylent-blue md:flex md:w-[260px] md:flex-col",children:(0,l.jsx)("div",{className:"flex h-full min-h-0 flex-col ",children:(0,l.jsx)(j,{})})}),(0,l.jsx)(f,{toggleComponentVisibility:s})]})}}},function(e){e.O(0,[907,415,57,228,866,556,13,874,617,491,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);